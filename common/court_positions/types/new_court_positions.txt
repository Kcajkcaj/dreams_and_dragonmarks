court_mage_court_position = {
    max_available_positions = 1
    category = court_position_category_common
    skill = learning

    opinion = {
        value = regular_court_position_opinion
    }

    aptitude_level_breakpoints = { 20 40 60 80 }

    aptitude = {
        value = 1
        add = {
			value = learning
			multiply = 2
			max = 50
			desc = court_position_skill_learning
		}
        add = {
            value = 5
            has_trait_xp = {trait = mage track = abjuration value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = conjuration value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = divination value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = evocation value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = enchantment value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = illusion value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = necromancy value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = transmutation value >= 10}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = abjuration value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = conjuration value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = divination value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = evocation value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = enchantment value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = illusion value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = necromancy value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = transmutation value >= 25}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = abjuration value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = conjuration value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = divination value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = evocation value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = enchantment value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = illusion value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = necromancy value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = transmutation value >= 60}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = abjuration value >= 100}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = conjuration value >= 100}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = divination value >= 100}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = evocation value >= 100}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = enchantment value >= 100}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = illusion value >= 100}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = necromancy value >= 100}
        }
        add = {
            value = 5
            has_trait_xp = {trait = mage track = transmutation value >= 100}
        }
    }

    is_shown = {}
    
    valid_position = {}

    is_shown_character = {
        scope:employee = {
			is_imprisoned = no
            has_trait = mage
        }
    }
    valid_character = {
    }

    revoke_cost = {
		prestige =  {
			value = major_court_position_prestige_revoke_cost

			# Set to 0 with Dynasty Perk Inner Circle
			if = {
				limit = {
					exists = dynasty
					dynasty = { has_dynasty_perk = fp2_coterie_legacy_1 }

					employs_court_position = cultural_emissary_court_position
					any_court_position_holder = {
				        type = cultural_emissary_court_position
						exists = dynasty
						house = prev.house
					}
				}
				multiply = 0
			}
			if = {
				limit = {
					exists = this
					is_ai = yes
				}
				multiply = 0
			}
		}
	}

    salary = {
		round = no
		gold = {
			value = medium_court_position_salary
			# Set to 0 with Dynasty Perk Inner Circle
			if = {
				limit = {
					scope:liege = {
						exists = dynasty
						dynasty = { has_dynasty_perk = fp2_coterie_legacy_1 }

						employs_court_position = court_mage_court_position
						any_court_position_holder = {
					        type = court_mage_court_position
							exists = dynasty
							house = prev.house
						}
					}
				}
				multiply = {
					value = 0.0
					desc = inner_circle_salary_mod
					format = "BASE_VALUE_FORMAT_DECIMALS_MINUS_POSITIVE"
				}
			}
			if = {
				limit = {
					scope:liege = {
						employs_court_position = court_mage_court_position
						any_court_position_holder = {
					        type = court_mage_court_position
					        scope:liege = {
								has_hook_of_type = {
									type = obligation_hook
									target = prev
								}
							}
						}
					}
				}
				multiply = {
					value = 0.5
					desc = obligation_hook_salary
				}
			}
		}
	}

    scaling_employer_modifiers = {
        terrible = {
            monthly_prestige = 0.1
        }
        poor = {
            monthly_prestige = 0.2
        }
        average = {
            monthly_prestige = 0.3
        }
        good = {
            monthly_prestige = 0.4
        }
        excellent = {
            monthly_prestige = 0.5
        }
    }

    candidate_score = {
        value = 150
		add = scope:base_value
		add = court_position_candidate_score_base_value
		add = court_position_candidate_aptitude_value
        add = court_position_debt_considerations_value
    }
}